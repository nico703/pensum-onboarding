{% extends "base.html" %}
{% block title %}Ausstattung & Zugänge{% endblock %}

{% block content %}
<h2>Ausstattung & Zugänge für {{ employee.fullname }}</h2>

<form method="POST" class="mt-4 bg-white p-4 rounded shadow-sm">

    <!-- Laptop -->
    <div class="mb-3">
        <label>Laptop benötigt?</label>
        <select name="laptop_needed" class="form-select" id="laptop_needed">
            <option value="">- auswählen -</option>
            <option value="ja">Ja</option>
            <option value="nein">Nein</option>
        </select>
    </div>

    <div id="laptop_details" style="display: none;">
        <div class="mb-3">
            <label>Aus dem Bestand oder neu?</label>
            <select name="laptop_art" class="form-select">
                <option value="">- auswählen -</option>
                <option>Aus dem Bestand</option>
                <option>Neu</option>
            </select>
        </div>
        <div class="mb-3">
            <label>Besonderheiten</label>
            <input type="text" name="laptop_besonderheiten" class="form-control">
        </div>
        <div class="mb-3">
            <label>Bestellt am</label>
            <input type="date" name="laptop_bestellt_am" class="form-control">
        </div>
        <div class="mb-3">
            <label>Bestellt von</label>
            <input type="text" name="laptop_bestellt_von" class="form-control">
        </div>
        <div class="mb-3">
            <label>Rückgabe am</label>
            <input type="date" name="laptop_rueckgabe_am" class="form-control">
        </div>
        <div class="mb-3">
            <label>Rückgabe an</label>
            <input type="text" name="laptop_rueckgabe_an" class="form-control">
        </div>
    </div>

    <!-- Handy -->
    <div class="mb-3">
        <label>Handy benötigt?</label>
        <select name="handy_needed" class="form-select" id="handy_needed">
            <option value="">- auswählen -</option>
            <option value="ja">Ja</option>
            <option value="nein">Nein</option>
        </select>
    </div>

    <div id="handy_details" style="display: none;">
        <div class="mb-3">
            <label>Aus dem Bestand oder neu?</label>
            <select name="handy_art" class="form-select">
                <option value="">- auswählen -</option>
                <option>Aus dem Bestand</option>
                <option>Neu</option>
            </select>
        </div>
        <div class="mb-3">
            <label>Geschäftliche Nummer</label>
            <input type="text" name="handy_nummer" class="form-control">
        </div>
        <div class="mb-3">
            <label>Bestellt am</label>
            <input type="date" name="handy_bestellt_am" class="form-control">
        </div>
        <div class="mb-3">
            <label>Bestellt von</label>
            <input type="text" name="handy_bestellt_von" class="form-control">
        </div>
        <div class="mb-3">
            <label>Rückgabe am</label>
            <input type="date" name="handy_rueckgabe_am" class="form-control">
        </div>
        <div class="mb-3">
            <label>Rückgabe an</label>
            <input type="text" name="handy_rueckgabe_an" class="form-control">
        </div>
    </div>

    <!-- Headset -->
    <div class="mb-3">
        <label>Headset benötigt?</label>
        <select name="headset" class="form-select">
            <option value="">- auswählen -</option>
            <option>Ja</option>
            <option>Nein</option>
        </select>
    </div>

    <!-- Monitore -->
    <div class="mb-3">
        <label>Monitore benötigt?</label>
        <select name="monitore" class="form-select" id="monitore">
            <option value="">- auswählen -</option>
            <option value="ja">Ja</option>
            <option value="nein">Nein</option>
        </select>
    </div>

    <div id="monitor_anzahl_field" class="mb-3" style="display: none;">
        <label>Anzahl Monitore</label>
        <input type="number" name="monitor_anzahl" class="form-control" min="1" max="4">
    </div>

    <!-- Telefon -->
    <div class="mb-3">
        <label>Telefon benötigt?</label>
        <select name="telefon" class="form-select" id="telefon">
            <option value="">- auswählen -</option>
            <option value="ja">Ja</option>
            <option value="nein">Nein</option>
        </select>
    </div>

    <div id="telefon_durchwahl_field" class="mb-3" style="display: none;">
        <label>Durchwahl</label>
        <input type="text" name="telefon_durchwahl" class="form-control">
    </div>

    <!-- Drucker -->
    <div class="mb-3">
        <label>Drucker benötigt?</label>
        <select name="drucker" class="form-select" id="drucker">
            <option value="">- auswählen -</option>
            <option value="ja">Ja</option>
            <option value="nein">Nein</option>
        </select>
    </div>

    <div id="drucker_details" style="display: none;">
        <div class="mb-3">
            <label>Aus dem Bestand oder neu?</label>
            <select name="drucker_art" class="form-select">
                <option value="">- auswählen -</option>
                <option>Aus dem Bestand</option>
                <option>Neu</option>
            </select>
        </div>
        <div class="mb-3">
            <label>Besonderheiten</label>
            <input type="text" name="drucker_besonderheiten" class="form-control">
        </div>
    </div>

    <!-- Software / Zugänge -->
    <h4 class="mt-4">Zugänge / Software</h4>
    <div class="form-check">
        <input class="form-check-input" type="checkbox" name="zugang_server" value="1">
        <label class="form-check-label">Zugang Server</label>
    </div>
    <div class="form-check">
        <input class="form-check-input" type="checkbox" name="zugang_zvoove" value="1">
        <label class="form-check-label">Zugang Zvoove</label>
    </div>
    <div class="form-check">
        <input class="form-check-input" type="checkbox" name="zugang_ms_teams" value="1">
        <label class="form-check-label">Zugang MS Teams</label>
    </div>
    <div class="form-check">
        <input class="form-check-input" type="checkbox" name="zugang_lapid" value="1">
        <label class="form-check-label">Zugang LapID</label>
    </div>
    <div class="form-check">
        <input class="form-check-input" type="checkbox" name="zugang_absence" value="1">
        <label class="form-check-label">Zugang absence.io</label>
    </div>
    <div class="form-check">
        <input class="form-check-input" type="checkbox" name="email_intern" value="1">
        <label class="form-check-label">E-Mail-Intern anlegen</label>
    </div>
    <div class="form-check">
        <input class="form-check-input" type="checkbox" name="email_verteiler" value="1">
        <label class="form-check-label">In E-Mail-Verteiler aufnehmen</label>
    </div>

    <button type="submit" class="btn btn-success mt-4">Weiter</button>
</form>

<script>
    // Laptop Details
    document.getElementById("laptop_needed").addEventListener("change", function () {
        document.getElementById("laptop_details").style.display = this.value === "ja" ? "block" : "none";
    });

    // Handy Details
    document.getElementById("handy_needed").addEventListener("change", function () {
        document.getElementById("handy_details").style.display = this.value === "ja" ? "block" : "none";
    });

    // Monitore Anzahl
    document.getElementById("monitore").addEventListener("change", function () {
        document.getElementById("monitor_anzahl_field").style.display = this.value === "ja" ? "block" : "none";
    });

    // Telefon Durchwahl
    document.getElementById("telefon").addEventListener("change", function () {
        document.getElementById("telefon_durchwahl_field").style.display = this.value === "ja" ? "block" : "none";
    });

    // Drucker Details
    document.getElementById("drucker").addEventListener("change", function () {
        document.getElementById("drucker_details").style.display = this.value === "ja" ? "block" : "none";
    });
</script>
{% endblock %}
