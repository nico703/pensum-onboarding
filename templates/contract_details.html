{% extends "base.html" %}

{% block title %}Vertragsdetails{% endblock %}

{% block content %}
<div class="container mt-5">
    <!-- Fortschrittsleiste -->
    <div class="progress mb-4" style="height: 25px;">
        <div class="progress-bar bg-success" role="progressbar" style="width: 40%;" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100">
            Schritt 2 von 5 – Vertragsdetails
        </div>
    </div>

    <h2>Vertragsdetails</h2>
    <form method="POST" action="{{ url_for('contract_details') }}" class="mt-4 bg-white p-4 rounded shadow-sm">

        <div class="mb-3">
            <label for="department" class="form-label">Abteilung</label>
            <select class="form-select" id="department" name="department">
                <option value="">Bitte auswählen</option>
                <option value="Vertrieb">Vertrieb</option>
                <option value="Marketing">Marketing</option>
                <option value="IT">IT</option>
                <option value="HR">HR</option>
                <option value="Produktion">Produktion</option>
            </select>
        </div>

        <div class="mb-3">
            <label for="position" class="form-label">Position</label>
            <input type="text" class="form-control" id="position" name="position">
        </div>

        <div class="mb-3">
            <label for="start_date" class="form-label">Eintrittsdatum</label>
            <input type="date" class="form-control" id="start_date" name="start_date">
        </div>

        <div class="mb-3">
            <label for="location" class="form-label">Niederlassung</label>
            <select class="form-select" id="location" name="location">
                <option value="">Bitte auswählen</option>
                <option value="Berlin">Berlin</option>
                <option value="Hamburg">Hamburg</option>
                <option value="München">München</option>
            </select>
        </div>

        <div class="mb-3">
            <label for="employment_type" class="form-label">Beschäftigungsart</label>
            <select class="form-select" id="employment_type" name="employment_type">
                <option value="">Bitte auswählen</option>
                <option value="Vollzeit">Vollzeit</option>
                <option value="Teilzeit">Teilzeit</option>
                <option value="Minijob">Minijob</option>
            </select>
        </div>

        <div class="mb-3">
            <label for="vacation_days" class="form-label">Urlaubstage</label>
            <input type="number" class="form-control" id="vacation_days" name="vacation_days">
        </div>

        <div class="mb-3">
            <label for="homeoffice" class="form-label">Homeoffice</label>
            <select class="form-select" id="homeoffice" name="homeoffice" onchange="toggleHomeofficeOptions()">
                <option value="">Bitte auswählen</option>
                <option value="Ja">Ja</option>
                <option value="Nein">Nein</option>
            </select>
        </div>

        <div class="mb-3" id="homeoffice-options" style="display: none;">
            <label for="homeoffice_detail" class="form-label">Homeoffice Regelung</label>
            <select class="form-select" id="homeoffice_detail" name="homeoffice_detail">
                <option value="">Bitte auswählen</option>
                <option value="1–2 Tage">1–2 Tage</option>
                <option value="3 Tage">3 Tage</option>
                <option value="Nach Absprache">Nach Absprache</option>
            </select>
        </div>

        <div class="d-flex justify-content-between">
            <a href="{{ url_for('create') }}" class="btn btn-secondary">Zurück</a>
            <button type="submit" class="btn btn-success">Weiter</button>
        </div>
    </form>
</div>

<script>
    function toggleHomeofficeOptions() {
        const homeoffice = document.getElementById("homeoffice").value;
        const detail = document.getElementById("homeoffice-options");
        detail.style.display = (homeoffice === "Ja") ? "block" : "none";
    }
</script>
{% endblock %}